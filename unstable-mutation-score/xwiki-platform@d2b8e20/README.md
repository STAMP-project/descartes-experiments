# Module

`xwiki-platform-webjars-api`@ [d2b8e20817236f2ca04de4b4c0246e765efd38cf](https://github.com/xwiki/xwiki-platform/commit/d2b8e20817236f2ca04de4b4c0246e765efd38cf)

Could not build locally xwiki-platform.
The analysis relied on the console output from the Jenkins server.

The score for xwiki-platform-webjars-api is 11/45 -> 24 % for all builds except for the following 4:
 * [132](https://ci.xwiki.org/view/Recommended%20Builds/job/xwiki-platform_pitest/132/org.xwiki.platform$xwiki-platform-webjars-api/consoleText) 10/45 -> 22%
 * [146](https://ci.xwiki.org/view/Recommended%20Builds/job/xwiki-platform_pitest/146/org.xwiki.platform$xwiki-platform-webjars-api/consoleText) 12/45 -> 27%
 * [147](https://ci.xwiki.org/view/Recommended%20Builds/job/xwiki-platform_pitest/147/org.xwiki.platform$xwiki-platform-webjars-api/consoleText) 10/45 -> 22%
 * [148](https://ci.xwiki.org/view/Recommended%20Builds/job/xwiki-platform_pitest/148/org.xwiki.platform$xwiki-platform-webjars-api/consoleText) 12/45 -> 27%

From the details in the console output it can be seen that the variation concerns two mutants: a  `true` mutant, affecting one `boolean` method and a `void` mutant affecting of course a `void` method. 
No mutant is killed with a timeout, so the timeout factor will not solve this particular case.
Is it possible to get the report files generated by PIT during those builds? That would shed a light on which methods are being affected by those mutants and the tests involved.

The [`mutations.json`](https://ci.xwiki.org/job/xwiki-platform_pitest/ws/xwiki-platform-core/xwiki-platform-webjars/xwiki-platform-webjars-api/target/pit-reports/201901291520/mutations.json) file in the workspace is actually showing some `TIMED_OUT` mutants. One of them is `void`. Of the three `true` mutants one is marked as `SURVIVED`. Both these mutants are covered by the following test case `org.xwiki.webjars.internal.FilesystemResourceReferenceSerializerTest.serializeCSSResourceWithURLsInIt` whose code can be checked [here](https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-webjars/xwiki-platform-webjars-api/src/test/java/org/xwiki/webjars/internal/FilesystemResourceReferenceSerializerTest.java#L129).

It seems that this test case, and others in the same module, are dealing with actual files. The assertions seem to verify if some files exist. 
The methods being mutated are `org.xwiki.webjars.internal.FilesystemResourceReferenceCopier.processCssfile` and `org.xwiki.webjars.internal.FilesystemResourceReferenceCopier.isRelativeURL`.

If the test code creates, copies, modifies or deletes files, after a mutation is performed, then the state of the files could be corrupt and not what has been assumed in the first place. If the files are used by more than one test case, then those test cases may be affected. The issue is bigger if the mutants are executed in parallel, as it is the case.

